{"version":3,"sources":["webpack:///src/components/Article.vue","webpack:///./src/components/Article.vue?16ed","webpack:///./src/components/Article.vue"],"names":["Article","name","data","isLoading","post","hasClick","isDisabled","methods","getArticleData","_this","this","$http","get","$route","params","id","then","res","success","console","log","content","replace","catch","err","beforeMount","watch","to","from","components_Article","render","_vm","_h","$createElement","_c","_self","staticClass","class","art-fadeout","art-disabled","_v","_s","title","_f","create_at","author","loginname","visit_count","last_reply_at","tab","domProps","innerHTML","reply_count","attrs","_l","reply","index","key","src","avatar_url","alt","_e","ups","length","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qGAuDA,IAAAA,GACAC,KAAA,UACAC,KAFA,WAGA,OACAC,WAAA,EAEAC,QAGAC,UAAA,EACAC,YAAA,IAGAC,SACAC,eADA,WACA,IAAAC,EAAAC,KACAA,KAAAC,MAAAC,IAAA,oCAAAF,KAAAG,OAAAC,OAAAC,IACAC,KAAA,SAAAC,GAEA,GAAAA,EAAAf,KAAAgB,UACAT,EAAAN,WAAA,EACAgB,QAAAC,IAAAH,GAGAA,EAAAf,UAAAmB,QAAAJ,EAAAf,UAAAmB,QAAAC,QAAA,0BACAH,QAAAC,IAAAH,GACAR,EAAAL,KAAAa,EAAAf,UACAO,EAAAJ,UAAA,EACAI,EAAAH,YAAA,KAGAiB,MAAA,SAAAC,GACAL,QAAAC,IAAAI,OAIAC,YAnCA,WAoCAf,KAAAP,WAAA,EACAO,KAAAF,kBAGAkB,OACAb,OADA,SACAc,EAAAC,GACAlB,KAAAL,UAAA,EACAK,KAAAJ,YAAA,EACAI,KAAAF,oBCtFeqB,GADEC,OAZjB,WAA0B,IAAAC,EAAArB,KAAasB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBL,EAAA,UAAAG,EAAA,OAA4BE,YAAA,YAAsBF,EAAA,KAAUE,YAAA,4BAAoCF,EAAA,OAAcE,YAAA,sCAAAC,OAAyDC,cAAAP,EAAA1B,SAAAkC,eAAAR,EAAAzB,cAA2D4B,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,OAAYE,YAAA,gBAA0BL,EAAAS,GAAAT,EAAAU,GAAAV,EAAA3B,KAAAsC,UAAAX,EAAAS,GAAA,KAAAN,EAAA,MAAAA,EAAA,MAAAH,EAAAS,GAAA,SAAAT,EAAAU,GAAAV,EAAAY,GAAA,aAAAZ,GAAA3B,KAAAwC,YAAA,OAAAb,EAAAS,GAAA,KAAAN,EAAA,MAAAH,EAAAS,GAAA,QAAAT,EAAAU,GAAAV,EAAA3B,KAAAyC,OAAAC,WAAA,OAAAf,EAAAS,GAAA,KAAAN,EAAA,MAAAH,EAAAS,GAAA,KAAAT,EAAAU,GAAAV,EAAA3B,KAAA2C,aAAA,WAAAhB,EAAAS,GAAA,KAAAN,EAAA,MAAAH,EAAAS,GAAA,aAAAT,EAAAU,GAAAV,EAAAY,GAAA,aAAAZ,GAAA3B,KAAA4C,mBAAAjB,EAAAS,GAAA,KAAAN,EAAA,MAAAH,EAAAS,GAAA,QAAAT,EAAAU,GAAAV,EAAAY,GAAA,eAAAZ,GAAA3B,KAAA6C,MAAA,SAAAlB,EAAAS,GAAA,KAAAN,EAAA,OAAgfE,YAAA,8BAAAc,UAAoDC,UAAApB,EAAAU,GAAAV,EAAA3B,KAAAiB,cAAsCU,EAAAS,GAAA,KAAAT,EAAA3B,KAAAgD,YAAA,EAAAlB,EAAA,OAAqDmB,OAAOtC,GAAA,WAAcmB,EAAA,OAAYE,YAAA,WAAqBL,EAAAS,GAAAT,EAAAU,GAAAV,EAAA3B,KAAAgD,aAAA,SAAArB,EAAAS,GAAA,KAAAT,EAAAuB,GAAAvB,EAAA3B,KAAA,iBAAAmD,EAAAC,GAA2G,OAAAtB,EAAA,OAAiBuB,IAAAF,EAAAxC,GAAAqB,YAAA,aAAoCF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,eAAoBmB,OAAO1B,IACj0C1B,KAAA,YACAa,QACAb,KAAAsD,EAAAV,OAAAC,eAEaZ,EAAA,OAAYmB,OAAOK,IAAAH,EAAAV,OAAAc,WAAAC,IAAA,QAAwC7B,EAAAS,GAAA,KAAAN,EAAA,eAAkCmB,OAAO1B,IACjH1B,KAAA,YACAa,QACAb,KAAAsD,EAAAV,OAAAC,eAEaZ,EAAA,QAAAH,EAAAS,GAAAT,EAAAU,GAAAc,EAAAV,OAAAC,gBAAAf,EAAAS,GAAA,KAAAN,EAAA,QAAAH,EAAAS,GAAAT,EAAAU,GAAAe,EAAA,UAAAzB,EAAAS,GAAA,KAAAN,EAAA,QAAAH,EAAAS,GAAA,KAAAT,EAAAU,GAAAV,EAAAY,GAAA,aAAAZ,CAAAwB,EAAAX,eAAAb,EAAAS,GAAA,KAAAT,EAAA3B,KAAAyC,OAAAC,WAAAS,EAAAV,OAAAC,UAAAZ,EAAA,QAAAH,EAAAS,GAAA,QAAAT,EAAA8B,KAAA9B,EAAAS,GAAA,KAAAe,EAAAO,IAAAC,OAAA,EAAA7B,EAAA,QAAAA,EAAA,KAA4VE,YAAA,sBAAgCL,EAAAS,GAAA,IAAAT,EAAAU,GAAAc,EAAAO,IAAAC,QAAA,kBAAA7B,EAAA,YAAAH,EAAAS,GAAA,KAAAN,EAAA,KAA2FgB,UAAUC,UAAApB,EAAAU,GAAAc,EAAAlC,iBAAuC,GAAAU,EAAA8B,UAEpgBG,oBCTjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEnE,EACA6B,GATF,EAVA,SAAAuC,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/1.341150778e4d07109b25.js","sourcesContent":["<template>\n  <div class=\"article\">\n    <div class=\"loading\" v-if=\"isLoading\">\n      <i class=\"iconfont icon-Loading\"></i>\n    </div>\n    <div v-else :class=\"{'art-fadeout': hasClick,'art-disabled':isDisabled}\" class=\"art-topic-fadeout art-trans-fadeout\">\n      <div class=\"topic_header\">\n        <div class=\"topic_title\">{{post.title}}</div>\n        <ul>\n          <!-- 可以见到有个Z，因此拿到的是UTC格式的日期字符串， -->\n          <li>• 发布于 {{post.create_at | formatDate}} </li>\n          <li>• 作者 {{post.author.loginname}} </li>\n          <li>• {{post.visit_count}} 次浏览 </li>\n          <li>• 最后一次编辑是 {{post.last_reply_at | formatDate}}</li>\n          <li>• 来自 {{post.tab | tabFormatter}} </li>\n        </ul>\n        <div v-html=\"post.content\" class=\"topic_content markdown-text\"></div>\n      </div>\n      <div v-if=\"post.reply_count > 0\" id=\"reply\">\n        <div class=\"topbar\">{{post.reply_count}} 回复</div>\n        <div v-for=\"(reply,index) in post.replies\" :key=\"reply.id\" class=\"replySec\">\n          <div class=\"replyUp\">\n            <router-link :to=\"{\n              name: 'user_info',\n              params: {\n                name: reply.author.loginname\n              }\n            }\">\n              <img :src=\"reply.author.avatar_url\" alt=\"\">\n            </router-link>\n            <router-link :to=\"{\n              name: 'user_info',\n              params: {\n                name: reply.author.loginname\n              }\n            }\">\n              <span>{{reply.author.loginname}}</span>\n            </router-link>\n            <span>{{index+1}}楼</span>\n            <span>• {{reply.create_at | formatDate}}</span>\n            <span v-if=\"post.author.loginname == reply.author.loginname\">作者</span>\n            <span v-if=\"reply.ups.length > 0\">\n              <i class=\"iconfont icon-zan\"></i> {{reply.ups.length}}\n            </span>\n            <span v-else>\n            </span>\n          </div>\n          <p v-html=\"reply.content\"></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"Article\",\n    data() {\n      return {\n        isLoading: false,\n        // 代表当前文章页的所有内容，所有属性\n        post: {\n\n        },\n        hasClick: false,\n        isDisabled: false,\n      }\n    },\n    methods: {\n      getArticleData() {\n        this.$http.get(`https://cnodejs.org/api/v1/topic/${this.$route.params.id}`)\n          .then(res=>{\n            // 虽然请求和响应成功了，但是数据是否真正拿到了，还需要做个判断！\n            if(res.data.success == true) {\n              this.isLoading = false\n              console.log(res)\n              // 第一个data是响应回来的数据的一个data属性\n              // 把 「&lt;br /&gt;」搞成是<br />\n              res.data.data.content = res.data.data.content.replace(/&lt;br \\/&gt;/g, '<br/>')\n              console.log(res)\n              this.post = res.data.data\n              this.hasClick = false\n              this.isDisabled = false\n            }\n          })\n          .catch(err => {\n            console.log(err)\n          })\n      }\n    },\n    beforeMount() {\n      this.isLoading = true\n      this.getArticleData()\n    },\n    // 观察当前页面的路由是否发生了变化，如果变化了，那就重新获取一下文章内容！\n    watch:{\n      '$route'(to,from){\n        this.hasClick = true\n        this.isDisabled = true\n        this.getArticleData()\n      }\n    }\n    \n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n/* 引入这个CSSs的时候记住一定要把那个默认的scoped属性给去掉*/\n@import url('../assets/markdown-github.css');\n@import url('//at.alicdn.com/t/font_1141112_09qz5ue8hh6c.css');\n\n/* iconfont loading start*/\n.loading {\n  padding: 5px;\n  text-align: center;\n}\n\n.loading .iconfont {\n  font-size: 36px;\n  display: inline-block;\n  animation: 1s rotate linear infinite;\n}\n\n@keyframes rotate {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n/* iconfont loading end */\n\n/* 遮罩层-start */\n\n.art-trans-fadeout{\n   transition:all 0.5s linear;\n}\n\n.art-fadeout{visibility:visible; opacity:1;}\n.art-fadeout.art-topic-fadeout {\n  opacity:0.3;\n}\n.art-fadeout.art-disabled {\n  pointer-events: none;\n  cursor: default;\n}\n\n/* 遮罩层-end */\n\n.topbar {\n  background-color: #f6f6f6;\n  height: 36px;\n  line-height: 36px;\n  font-size: 12px;\n  padding-left: 10px;\n}\n\n.article {\n  margin-right: 340px;\n  margin-top: 15px;\n}\n\n#reply,\n.topic_header {\n  background-color: #fff;\n}\n\n#reply {\n  margin-top: 15px;\n  margin-bottom: 100px;\n}\n\n#reply img {\n  width: 30px;\n  position: relative;\n  bottom: -9px;\n}\n\n#reply a,\n#reply span {\n  font-size: 13px;\n  color: #666;\n  text-decoration: none;\n}\n.replySec {\n  min-height: 80px;\n  border-bottom: 1px solid #e5e5e5;\n  padding: 10px;\n}\n\n.loading {\n  text-align: center;\n  padding-top: 300px;\n}\n\n.replyUp a:nth-of-type(2) {\n  margin-left: 0px;\n  display: inline-block;\n}\n\n.topic_header {\n  padding: 10px;\n}\n\n.topic_title {\n  font-size: 20px;\n  font-weight: bold;\n  padding-top: 8px;\n}\n\n.topic_header ul {\n  list-style: none;\n  padding: 0px 0px;\n  margin: 6px 0px;\n}\n\n.topic_header li {\n  display: inline-block;\n  font-size: 12px;\n  color: #838383;\n}\n\n.topic_content {\n  border-top: 1px solid #e5e5e5;\n  padding: 10px 10px;\n  /* 这个css很关键，没有这个的话，把内容表现为markdown样式的话，标题和p会挨在一起 */\n  white-space: pre-wrap;\n}\n\n.markdown-text img {\n  /* width: 92% !important; */\n  vertical-align: initial;\n}\n\n/* h1,h2,h3,h4,h5,h6 {\n  margin-top: 15px;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 10px;\n} */\n#reply > .replySec > p {\n  margin-left: 44px;\n  font-size: 14px;\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Article.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article\"},[(_vm.isLoading)?_c('div',{staticClass:\"loading\"},[_c('i',{staticClass:\"iconfont icon-Loading\"})]):_c('div',{staticClass:\"art-topic-fadeout art-trans-fadeout\",class:{'art-fadeout': _vm.hasClick,'art-disabled':_vm.isDisabled}},[_c('div',{staticClass:\"topic_header\"},[_c('div',{staticClass:\"topic_title\"},[_vm._v(_vm._s(_vm.post.title))]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"• 发布于 \"+_vm._s(_vm._f(\"formatDate\")(_vm.post.create_at))+\" \")]),_vm._v(\" \"),_c('li',[_vm._v(\"• 作者 \"+_vm._s(_vm.post.author.loginname)+\" \")]),_vm._v(\" \"),_c('li',[_vm._v(\"• \"+_vm._s(_vm.post.visit_count)+\" 次浏览 \")]),_vm._v(\" \"),_c('li',[_vm._v(\"• 最后一次编辑是 \"+_vm._s(_vm._f(\"formatDate\")(_vm.post.last_reply_at)))]),_vm._v(\" \"),_c('li',[_vm._v(\"• 来自 \"+_vm._s(_vm._f(\"tabFormatter\")(_vm.post.tab))+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"topic_content markdown-text\",domProps:{\"innerHTML\":_vm._s(_vm.post.content)}})]),_vm._v(\" \"),(_vm.post.reply_count > 0)?_c('div',{attrs:{\"id\":\"reply\"}},[_c('div',{staticClass:\"topbar\"},[_vm._v(_vm._s(_vm.post.reply_count)+\" 回复\")]),_vm._v(\" \"),_vm._l((_vm.post.replies),function(reply,index){return _c('div',{key:reply.id,staticClass:\"replySec\"},[_c('div',{staticClass:\"replyUp\"},[_c('router-link',{attrs:{\"to\":{\n            name: 'user_info',\n            params: {\n              name: reply.author.loginname\n            }\n          }}},[_c('img',{attrs:{\"src\":reply.author.avatar_url,\"alt\":\"\"}})]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{\n            name: 'user_info',\n            params: {\n              name: reply.author.loginname\n            }\n          }}},[_c('span',[_vm._v(_vm._s(reply.author.loginname))])]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(index+1)+\"楼\")]),_vm._v(\" \"),_c('span',[_vm._v(\"• \"+_vm._s(_vm._f(\"formatDate\")(reply.create_at)))]),_vm._v(\" \"),(_vm.post.author.loginname == reply.author.loginname)?_c('span',[_vm._v(\"作者\")]):_vm._e(),_vm._v(\" \"),(reply.ups.length > 0)?_c('span',[_c('i',{staticClass:\"iconfont icon-zan\"}),_vm._v(\" \"+_vm._s(reply.ups.length)+\"\\n          \")]):_c('span')],1),_vm._v(\" \"),_c('p',{domProps:{\"innerHTML\":_vm._s(reply.content)}})])})],2):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7628d8b8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Article.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7628d8b8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Article.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Article.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Article.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7628d8b8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Article.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Article.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}